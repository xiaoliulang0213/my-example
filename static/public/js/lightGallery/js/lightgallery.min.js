!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(a["jQuery"])}(this,function(a){!function(){"use strict";function c(c,d){if(this.cropper=null,this.el=c,this.$el=a(c),this.s=a.extend({},b,d),this.s.dynamic&&"undefined"!==this.s.dynamicEl&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length)throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.modules={},this.lGalleryOn=!1,this.lgBusy=!1,this.hideBartimeout=!1,this.isTouch="ontouchstart"in document.documentElement,this.s.slideEndAnimatoin&&(this.s.hideControlOnEnd=!1),this.items=this.s.items,this.$slide="",this.$outer="",this.init(),this}var b={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6e3,useLeft:!1,closable:!0,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimatoin:!0,hideControlOnEnd:!1,mousewheel:!0,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:1,showAfterLoad:!0,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:!1,iframeMaxWidth:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],galleryId:1,cache:!0,print:!1,rotate:!1,crop:!1,"delete":!1,items:[],tooltips:{rotateLeft:"向左旋转90度",rotateRight:"向右旋转90度",toCrop:"裁剪图片",saveCrop:"保存裁剪",cancelCrop:"取消裁剪",doDelete:"删除图片",toView:"浏览图片",doSave:"保存图片旋转",hideThumb:"隐藏缩略图",showThumb:"显示缩略图",pageLeft:"向左翻页缩略图",pageRight:"向右翻页缩略图",zoomIn:"放大图片",zoomOut:"缩小图片",fitScreen:"适应屏幕",realSize:"实际大小",toFullScreen:"全屏浏览",exitFullScreen:"退出全屏",doPrint:"打印图片",doDownload:"下载图片",doExit:"关闭"}};c.prototype.init=function(){var c,b=this;b.s.preload>b.items.length&&(b.s.preload=b.items.length),c=window.location.hash,c.indexOf("lg="+this.s.galleryId)>0&&(b.index=parseInt(c.split("&slide=")[1],10),a("body").addClass("lg-from-hash"),a("body").hasClass("lg-on")||(setTimeout(function(){b.build(b.index)}),a("body").addClass("lg-on"))),b.s.dynamic?(b.$el.trigger("onBeforeOpen.lg"),b.index=b.s.index||0,a("body").hasClass("lg-on")||setTimeout(function(){b.build(b.index),a("body").addClass("lg-on")})):(b.index=b.s.index||0,b.$el.trigger("onBeforeOpen.lg"),a("body").hasClass("lg-on")||setTimeout(function(){b.build(b.index),a("body").addClass("lg-on")}))},c.prototype.build=function(b){var c=this;c.structure(),a.each(a.fn.lightGallery.modules,function(b){c.modules[b]=new a.fn.lightGallery.modules[b](c.el)}),c.slide(b,!1,!1,!1),c.s.keyPress&&c.keyPress(),c.items.length>1?(c.arrow(),setTimeout(function(){c.enableDrag(),c.enableSwipe()},50)):c.$slide.on("click.lg",function(){c.$el.trigger("onSlideClick.lg")}),c.counter(),c.closeGallery(),c.$el.trigger("onAfterOpen.lg"),c.$outer.on("mousemove.lg click.lg touchstart.lg",function(){c.$outer.removeClass("lg-hide-items"),clearTimeout(c.hideBartimeout),c.hideBartimeout=setTimeout(function(){c.$outer.addClass("lg-hide-items")},c.s.hideBarsDelay)}),c.$outer.trigger("mousemove.lg")},c.prototype.structure=function(){var f,h,b="",c="",d=0,e="",g=this;for(a("body").append('<div class="lg-backdrop"></div>'),a(".lg-backdrop").css("transition-duration",this.s.backdropDuration+"ms"),d=0;d<this.items.length;d++)b+='<div class="lg-item"></div>';this.s.controls&&(this.items.length>1?c='<div class="lg-actions"><button class="lg-prev lg-icon">'+this.s.prevHtml+"</button>"+'<button class="lg-next lg-icon">'+this.s.nextHtml+"</button>"+"</div>":1===this.items.length&&(c='<div class="lg-actions"></div>')),".lg-sub-html"===this.s.appendSubHtmlTo&&(e='<div class="lg-sub-html"></div>'),f='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'">'+'<div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'">'+'<div class="lg-inner">'+b+"</div>"+'<div class="lg-toolbar lg-group">'+'<span class="lg-close lg-icon" title="'+this.s.tooltips.doExit+'"></span>'+"</div>"+c+e+"</div>"+"</div>",a("body").append(f),this.$outer=a(".lg-outer"),this.$slide=this.$outer.find(".lg-item"),this.s.useLeft?(this.$outer.addClass("lg-use-left"),this.s.mode="lg-slide"):this.$outer.addClass("lg-use-css3"),g.setTop(),a(window).on("resize.lg orientationchange.lg",function(){setTimeout(function(){g.setTop()},100)}),this.$slide.eq(this.index).addClass("lg-current"),this.doCss()?this.$outer.addClass("lg-css3"):(this.$outer.addClass("lg-css"),this.s.speed=0),this.$outer.addClass(this.s.mode),this.s.enableDrag&&this.items.length>1&&this.$outer.addClass("lg-grab"),this.s.showAfterLoad&&this.$outer.addClass("lg-show-after-load"),this.doCss()&&(h=this.$outer.find(".lg-inner"),h.css("transition-timing-function",this.s.cssEasing),h.css("transition-duration",this.s.speed+"ms")),setTimeout(function(){a(".lg-backdrop").addClass("in")}),setTimeout(function(){g.$outer.addClass("lg-visible")},this.s.backdropDuration),this.s.download&&this.$outer.find(".lg-toolbar").append('<a id="lg-download" target="_blank" class="lg-download lg-icon" title="'+this.s.tooltips.doDownload+'"></a>'),this.s.print&&(this.$outer.find(".lg-toolbar").append('<a id="lg-print" href="javascript:;" class="lg-print lg-icon" title="'+this.s.tooltips.doPrint+'"></a>'),this.$outer.find(".lg-print").on("click",function(a){var b=g.$slide.eq(g.index).find(".lg-image");g.s.print.call(null,a,g.index,g.items[g.index],g.items[g.index].width||b.prop("offsetWidth"),g.items[g.index].height||b.prop("offsetHeight"))})),this.prevScrollTop=a(window).scrollTop()},c.prototype.setTop=function(){var b,c,d;"100%"!==this.s.height&&(b=a(window).height(),c=(b-parseInt(this.s.height,10))/2,d=this.$outer.find(".lg"),b>=parseInt(this.s.height,10)?d.css("top",c+"px"):d.css("top","0px"))},c.prototype.doCss=function(){var a=function(){var a=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],b=document.documentElement,c=0;for(c=0;c<a.length;c++)if(a[c]in b.style)return!0};return a()?!0:!1},c.prototype.isVideo=function(a,b){var c,d,e,f,g;return this.s.dynamic?c=this.s.dynamicEl[b].html:this.s.show&&(c=this.items[b].container),a?(d=a.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),e=a.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),f=a.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),g=a.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i),d?{youtube:d}:e?{vimeo:e}:f?{dailymotion:f}:g?{vk:g}:void 0):c?{html5:!0}:(console.error("lightGallery :- data-src is not pvovided on slide item "+(b+1)+". Please make sure the selector property is properly configured. More info - http://sachinchoolur.github.io/lightGallery/demos/html-markup.html"),!1)},c.prototype.counter=function(){this.s.counter&&a(this.s.appendCounterTo).append('<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.items.length+"</span></div>")},c.prototype.addHtml=function(b){var d,e,f,g,h,c=null;this.s.dynamic?this.s.dynamicEl[b].subHtmlUrl?d=this.s.dynamicEl[b].subHtmlUrl:c=this.s.dynamicEl[b].subHtml:c=this.items[b].html,d||("undefined"!=typeof c&&null!==c?(f=c.substring(0,1),("."===f||"#"===f)&&(c=this.s.subHtmlSelectorRelative&&!this.s.dynamic?e.find(c).html():a(c).html())):c=""),".lg-sub-html"===this.s.appendSubHtmlTo?d?this.$outer.find(this.s.appendSubHtmlTo).load(d):this.$outer.find(this.s.appendSubHtmlTo).html(c):d?this.$slide.eq(b).load(d):this.$slide.eq(b).append(c),"undefined"!=typeof c&&null!==c&&(""===c?this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html"):this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")),g=this.$slide.eq(b),h=this,this.s.rotate&&(this.$outer.find(".lg .lg-actions").append('<span class="lg-edit-operate lg-rotate-left lg-icon" title="'+this.s.tooltips.rotateLeft+'"></span><span class="lg-edit-operate lg-rotate-right lg-icon" title="'+this.s.tooltips.rotateRight+'"></span>'),this.$outer.find(".lg-rotate-left").on("click.lg",function(){h.rotate(b,-90)}),this.$outer.find(".lg-rotate-right").on("click.lg",function(){h.rotate(b,90)}),this.$outer.find(".lg .lg-actions").append('<span class="lg-edit-operate lg-save lg-icon" title="'+this.s.tooltips.doSave+'"></span>'),this.$outer.find(".lg-save").on("click.lg",function(a){null==h.cropper&&(h.loading(),h.s.rotate.call(null,a,b,h.items[b],parseInt(g.find(".lg-image").attr("data-rotate-compute"),10)||0,function(a){a&&(h.clear(),"refresh"===a?g.find(".lg-image").attr("src",h.analysisUrl(h.items[b].url)):(h.items[b]=a,g.find(".lg-image").attr("src",h.analysisUrl(a.url))),h.$el.trigger("onImageChange.lg",[b,a]))}))})),this.s.crop&&(this.$outer.find(".lg .lg-actions").append('<span class="lg-edit-operate lg-crop lg-icon" title="'+this.s.tooltips.toCrop+'"></span>'),this.$outer.find(".lg-crop").on("click.lg",function(){a("#lg-actual-size").attr("title",h.s.tooltips.realSize),null==h.cropper?(a(".lg-crop").attr("title",h.s.tooltips.toView),h.clear(),h.$el.trigger("onBeforeSlide.lg"),g.find(".lg-image").cropper({checkCrossOrigin:!1,checkOrientation:!1,scalable:!1,autoCrop:!1,background:!1,ready:function(){h.$outer.addClass("lg-cropped"),h.cropper=a(this).cropper(),a(".cropper-crop-box").append('<span class="cropper-size"></span><span class="cropper-operate"><span class="lg-cropper-save lg-icon"></span><span class="lg-cropper-cancel lg-icon"></span></span>'),a(".lg-cropper-save").off("click").on("click",function(){h.loading();var c=h.cropper.cropper("getData");h.s.crop.call(null,event,b,h.items[b],{rotate:c.rotate,x:c.x,y:c.y,width:c.width,height:c.height},function(c){c&&(h.clear(),"refresh"===c?g.find("img").attr("src",h.analysisUrl(h.items[b].url,!0)):(h.items[b]=c,g.find("img").attr("src",h.analysisUrl(c.url))),a(".lg-crop").attr("title",h.s.tooltips.toCrop),h.$el.trigger("onImageChange.lg",[b,c]),h.cropper.cropper("destroy"),h.$outer.removeClass("lg-cropped"),h.cropper=null)})}),a(".lg-cropper-cancel").off("click").on("click",function(){h.cropper.cropper("clear")})},crop:function(b){a(".cropper-crop-box .cropper-size").text(parseInt(b.width,10)+"×"+parseInt(b.height))},cropstart:function(){a(".cropper-crop-box .cropper-operate").hide()},cropend:function(){a(".cropper-crop-box .cropper-operate").show()}})):(a(".lg-crop").attr("title",h.s.tooltips.toCrop),h.$outer.removeClass("lg-cropped"),h.cropper.cropper("destroy"),h.cropper=null)})),this.s.delete&&(this.$outer.addClass("lg-allow-delete").find(".lg .lg-actions").append('<span class="lg-edit-operate lg-delete lg-icon" title="'+this.s.tooltips.doDelete+'"></span>'),this.$outer.find(".lg-delete").on("click.lg",function(){h.s.delete.call(null,b,h.items[b],function(){return h.items.length<=1?(h.destroy(!0),h.s.close&&h.s.close.call(null),void 0):(h.items.splice(b,1),h.$slide.eq(b).remove(),h.$slide=h.$outer.find(".lg-item"),h.$el.trigger("onImageDelete.lg",[b]),a("#lg-counter-all").text(h.items.length),h.index>0?h.goToPrevSlide():h.slide(h.index),void 0)})})),this.$el.trigger("onAfterAppendSubHtml.lg",[b])},c.prototype.preload=function(a){var b=1,c=1;for(b=1;b<=this.s.preload&&!(b>=this.items.length-a);b++)this.loadContent(a+b,!1,0);for(c=1;c<=this.s.preload&&!(0>a-c);c++)this.loadContent(a-c,!1,0)},c.prototype.rotate=function(a,b){var d,e,c=this.$slide.eq(a).find(".lg-image");null==this.cropper?(d=(parseInt(c.attr("data-rotate"),10)||0)+b,e=c.attr("data-scale"),void 0===e?c.css("transform","rotate("+d+"deg)").attr("data-rotate",d).attr("data-rotate-compute",0>d?d%360+360:d%360):c.css("transform","scale3d("+e+", "+e+", 1) rotate("+d+"deg)").attr("data-rotate",d).attr("data-rotate-compute",0>d?d%360+360:d%360),0===d%180?(c.attr("data-width",c.prop("offsetWidth")),c.attr("data-height",c.prop("offsetHeight"))):(c.attr("data-width",c.prop("offsetHeight")),c.attr("data-height",c.prop("offsetWidth"))),0!==d%360?this.$outer.addClass("lg-rotated"):this.$outer.removeClass("lg-rotated")):this.cropper.cropper("rotate",b)},c.prototype.loadContent=function(b,c,d){var g,h,i,j,k,l,n,o,p,q,e=this,f=!1,m=function(b){var e,f,g,i,c=[],d=[];for(e=0;e<b.length;e++)f=b[e].split(" "),""===f[0]&&f.splice(0,1),d.push(f[0]),c.push(f[1]);for(g=a(window).width(),i=0;i<c.length;i++)if(parseInt(c[i],10)>g){h=d[i];break}};if(e.s.dynamic?(e.s.dynamicEl[b].poster&&(f=!0,i=e.s.dynamicEl[b].poster),l=e.s.dynamicEl[b].html,h=e.s.dynamicEl[b].src,e.s.dynamicEl[b].responsive&&(n=e.s.dynamicEl[b].responsive.split(","),m(n)),j=e.s.dynamicEl[b].srcset,k=e.s.dynamicEl[b].sizes):(l=this.items[b].container,h=this.items[b].url,this.s.cache||(h=h+(h.indexOf("?")>0?"&":"?")+"_lg="+(new Date).getTime())),o=!1,e.s.dynamic&&e.s.dynamicEl[b].iframe&&(o=!0),p=e.isVideo(h,b),!e.$slide.eq(b).hasClass("lg-loaded")){if(o?e.$slide.eq(b).prepend('<div class="lg-video-cont lg-has-iframe" style="max-width:'+e.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+h+'"  allowfullscreen="true"></iframe></div></div>'):f?(q="",q=p&&p.youtube?"lg-has-youtube":p&&p.vimeo?"lg-has-vimeo":"lg-has-html5",e.$slide.eq(b).prepend('<div class="lg-video-cont '+q+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+i+'" /></div></div>')):p?(e.$slide.eq(b).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>'),e.$el.trigger("hasVideo.lg",[b,h,l])):e.$slide.eq(b).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+h+'" /></div>'),e.$el.trigger("onAferAppendSlide.lg",[b]),g=e.$slide.eq(b).find(".lg-object"),k&&g.attr("sizes",k),j){g.attr("srcset",j);try{picturefill({elements:[g[0]]})}catch(r){console.warn("lightGallery :- If you want srcset to be supported for older browser please include picturefil version 2 javascript library in your document.")}}".lg-sub-html"!==this.s.appendSubHtmlTo&&e.addHtml(b),e.$slide.eq(b).addClass("lg-loaded")}e.$slide.eq(b).find(".lg-object").on("load.lg error.lg",function(){var c=0;d&&!a("body").hasClass("lg-from-hash")&&(c=d),setTimeout(function(){e.$slide.eq(b).addClass("lg-complete"),e.$slide.eq(b).addClass("lg-zoomable"),e.$el.trigger("onSlideItemLoad.lg",[b,d||0])},c)}),p&&p.html5&&!f&&e.$slide.eq(b).addClass("lg-complete"),c===!0&&(e.$slide.eq(b).hasClass("lg-complete")?e.preload(b):e.$slide.eq(b).find(".lg-object").on("load.lg error.lg",function(){e.preload(b)}))},c.prototype.slide=function(b,c,d,e){var h,i,j,k,l,f=this.$outer.find(".lg-current").index(),g=this;g.lGalleryOn&&f===b||(null!=this.cropper&&(this.$outer.removeClass("lg-cropped lg-rotated"),this.cropper.cropper("destroy"),this.cropper=null),h=this.$slide.length,i=g.lGalleryOn?this.s.speed:0,g.lgBusy||(this.s.download&&(j=g.s.dynamic?g.s.dynamicEl[b].downloadUrl!==!1&&(g.s.dynamicEl[b].downloadUrl||g.s.dynamicEl[b].src):g.items[b].downloadUrl||g.items[b].url,j?(a("#lg-download").attr("href",j),g.$outer.removeClass("lg-hide-download")):g.$outer.addClass("lg-hide-download")),this.clear(f),this.$el.trigger("onBeforeSlide.lg",[f,b,c,d]),g.lgBusy=!0,clearTimeout(g.hideBartimeout),".lg-sub-html"===this.s.appendSubHtmlTo&&setTimeout(function(){g.addHtml(b)},i),this.arrowDisable(b),e||(f>b?e="prev":b>f&&(e="next")),c?(this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide"),h>2?(k=b-1,l=b+1,0===b&&f===h-1?(l=0,k=h-1):b===h-1&&0===f&&(l=0,k=h-1)):(k=0,l=1),"prev"===e?g.$slide.eq(l).addClass("lg-next-slide"):g.$slide.eq(k).addClass("lg-prev-slide"),g.$slide.eq(b).addClass("lg-current")):(g.$outer.addClass("lg-no-trans"),this.$slide.removeClass("lg-prev-slide lg-next-slide"),"prev"===e?(this.$slide.eq(b).addClass("lg-prev-slide"),this.$slide.eq(f).addClass("lg-next-slide")):(this.$slide.eq(b).addClass("lg-next-slide"),this.$slide.eq(f).addClass("lg-prev-slide")),setTimeout(function(){g.$slide.removeClass("lg-current"),g.$slide.eq(b).addClass("lg-current"),g.$outer.removeClass("lg-no-trans")},50)),g.lGalleryOn?(setTimeout(function(){g.loadContent(b,!0,0)},this.s.speed+50),setTimeout(function(){g.lgBusy=!1,g.$el.trigger("onAfterSlide.lg",[f,b,c,d])},this.s.speed)):(g.loadContent(b,!0,g.s.backdropDuration),g.lgBusy=!1,g.$el.trigger("onAfterSlide.lg",[f,b,c,d])),g.lGalleryOn=!0,this.s.counter&&a("#lg-counter-current").text(b+1)),g.index=b)},c.prototype.goToNextSlide=function(a){var b=this,c=b.s.loop;a&&b.$slide.length<3&&(c=!1),b.lgBusy||(b.index+1<b.$slide.length?(b.index++,b.$el.trigger("onBeforeNextSlide.lg",[b.index]),b.slide(b.index,a,!1,"next")):c?(b.index=0,b.$el.trigger("onBeforeNextSlide.lg",[b.index]),b.slide(b.index,a,!1,"next")):b.s.slideEndAnimatoin&&!a&&(b.$outer.addClass("lg-right-end"),setTimeout(function(){b.$outer.removeClass("lg-right-end")},400)))},c.prototype.goToPrevSlide=function(a){var b=this,c=b.s.loop;a&&b.$slide.length<3&&(c=!1),b.lgBusy||(b.index>0?(b.index--,b.$el.trigger("onBeforePrevSlide.lg",[b.index,a]),b.slide(b.index,a,!1,"prev")):c?(b.index=b.items.length-1,b.$el.trigger("onBeforePrevSlide.lg",[b.index,a]),b.slide(b.index,a,!1,"prev")):b.s.slideEndAnimatoin&&!a&&(b.$outer.addClass("lg-left-end"),setTimeout(function(){b.$outer.removeClass("lg-left-end")},400)))},c.prototype.keyPress=function(){var b=this;this.items.length>1&&a(window).on("keyup.lg",function(a){b.items.length>1&&(37===a.keyCode&&(a.preventDefault(),b.goToPrevSlide()),39===a.keyCode&&(a.preventDefault(),b.goToNextSlide()))}),a(window).on("keydown.lg",function(a){b.s.escKey===!0&&27===a.keyCode&&(a.preventDefault(),b.$outer.hasClass("lg-thumb-open")?b.$outer.removeClass("lg-thumb-open"):b.destroy(!0))})},c.prototype.arrow=function(){var a=this;this.$outer.find(".lg-prev").on("click.lg",function(){a.goToPrevSlide()}),this.$outer.find(".lg-next").on("click.lg",function(){a.goToNextSlide()})},c.prototype.arrowDisable=function(a){!this.s.loop&&this.s.hideControlOnEnd&&(a+1<this.$slide.length?this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-next").attr("disabled","disabled").addClass("disabled"),a>0?this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-prev").attr("disabled","disabled").addClass("disabled"))},c.prototype.setTranslate=function(a,b,c){this.s.useLeft?a.css("left",b):a.css({transform:"translate3d("+b+"px, "+c+"px, 0px)"})},c.prototype.touchMove=function(b,c){var d=c-b;Math.abs(d)>15&&(this.$outer.addClass("lg-dragging"),this.setTranslate(this.$slide.eq(this.index),d,0),this.setTranslate(a(".lg-prev-slide"),-this.$slide.eq(this.index).width()+d,0),this.setTranslate(a(".lg-next-slide"),this.$slide.eq(this.index).width()+d,0))},c.prototype.touchEnd=function(a){var b=this;"lg-slide"!==b.s.mode&&b.$outer.addClass("lg-slide"),this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity","0"),setTimeout(function(){b.$outer.removeClass("lg-dragging"),0>a&&Math.abs(a)>b.s.swipeThreshold?b.goToNextSlide(!0):a>0&&Math.abs(a)>b.s.swipeThreshold?b.goToPrevSlide(!0):Math.abs(a)<5&&b.$el.trigger("onSlideClick.lg"),b.$slide.removeAttr("style")}),setTimeout(function(){b.$outer.hasClass("lg-dragging")||"lg-slide"===b.s.mode||b.$outer.removeClass("lg-slide")},b.s.speed+100)},c.prototype.enableSwipe=function(){var a=this,b=0,c=0,d=!1;a.s.enableSwipe&&a.doCss()&&(a.$slide.on("touchstart.lg",function(c){a.$outer.hasClass("lg-zoomed")||a.lgBusy||(c.preventDefault(),a.manageSwipeClass(),b=c.originalEvent.targetTouches[0].pageX)}),a.$slide.on("touchmove.lg",function(e){a.$outer.hasClass("lg-zoomed")||(e.preventDefault(),c=e.originalEvent.targetTouches[0].pageX,a.touchMove(b,c),d=!0)}),a.$slide.on("touchend.lg",function(){a.$outer.hasClass("lg-zoomed")||(d?(d=!1,a.touchEnd(c-b)):a.$el.trigger("onSlideClick.lg"))}))},c.prototype.enableDrag=function(){var b=this,c=0,d=0,e=!1,f=!1;b.s.enableDrag&&b.doCss()&&(b.$slide.on("mousedown.lg",function(d){b.$outer.hasClass("lg-zoomed")||(a(d.target).hasClass("lg-object")||a(d.target).hasClass("lg-video-play"))&&(d.preventDefault(),b.lgBusy||(b.manageSwipeClass(),c=d.pageX,e=!0,b.$outer.scrollLeft+=1,b.$outer.scrollLeft-=1,b.$outer.removeClass("lg-grab").addClass("lg-grabbing"),b.$el.trigger("onDragstart.lg")))}),a(window).on("mousemove.lg",function(a){e&&(f=!0,d=a.pageX,b.touchMove(c,d),b.$el.trigger("onDragmove.lg"))}),a(window).on("mouseup.lg",function(g){f?(f=!1,b.touchEnd(d-c),b.$el.trigger("onDragend.lg")):(a(g.target).hasClass("lg-object")||a(g.target).hasClass("lg-video-play"))&&b.$el.trigger("onSlideClick.lg"),e&&(e=!1,b.$outer.removeClass("lg-grabbing").addClass("lg-grab"))}))},c.prototype.manageSwipeClass=function(){var a=this.index+1,b=this.index-1;this.s.loop&&this.$slide.length>2&&(0===this.index?b=this.$slide.length-1:this.index===this.$slide.length-1&&(a=0)),this.$slide.removeClass("lg-next-slide lg-prev-slide"),b>-1&&this.$slide.eq(b).addClass("lg-prev-slide"),this.$slide.eq(a).addClass("lg-next-slide")},c.prototype.analysisUrl=function(a,b){return!a||this.s.cache&&!b?a:a+(a.indexOf("?")>0?"&":"?")+"_lg="+(new Date).getTime()},c.prototype.loading=function(a){a?"hide"===a&&this.$slide.eq(this.index).addClass("lg-complete"):this.$slide.eq(this.index).removeClass("lg-complete")},c.prototype.clear=function(a){this.$slide.eq(void 0===a?this.index:a).find(".lg-image").removeAttr("style data-width data-height data-rotate data-rotate-compute data-scale"),this.$outer.removeClass("lg-rotated")},c.prototype.closeGallery=function(){var b=this,c=!1;this.$outer.find(".lg-close").on("click.lg",function(){b.destroy(!0),b.s.close&&b.s.close.call(null)}),b.s.closable&&(b.$outer.on("mousedown.lg",function(b){c=a(b.target).is(".lg-outer")||a(b.target).is(".lg-item ")||a(b.target).is(".lg-img-wrap")?!0:!1}),b.$outer.on("mouseup.lg",function(d){(a(d.target).is(".lg-outer")||a(d.target).is(".lg-item ")||a(d.target).is(".lg-img-wrap")&&c)&&(b.$outer.hasClass("lg-dragging")||b.destroy(!0))}))},c.prototype.destroy=function(b){var c=this;b||(c.$el.trigger("onBeforeClose.lg"),a(window).scrollTop(c.prevScrollTop)),null!=c.cropper&&(c.$outer.removeClass("cropped"),c.cropper.cropper("destroy"),c.cropper=null),b&&(!c.s.dynamic,a.removeData(c.el,"lightGallery")),this.$el.off(".lg.tm"),a.each(a.fn.lightGallery.modules,function(a){c.modules[a]&&c.modules[a].destroy()}),this.lGalleryOn=!1,clearTimeout(c.hideBartimeout),this.hideBartimeout=!1,a(window).off(".lg"),a("body").removeClass("lg-on lg-from-hash"),c.$outer&&c.$outer.removeClass("lg-visible"),a(".lg-backdrop").removeClass("in"),setTimeout(function(){c.$outer&&c.$outer.remove(),a(".lg-backdrop").remove(),b||c.$el.trigger("onCloseAfter.lg")},c.s.backdropDuration+50)},a.fn.lightGallery=function(b){return this.each(function(){if(a.data(this,"lightGallery"))try{a(this).data("lightGallery").init()}catch(d){console.error("lightGallery has not initiated properly")}else a.data(this,"lightGallery",new c(this,b))})},a.fn.lightGallery.modules={}}()});